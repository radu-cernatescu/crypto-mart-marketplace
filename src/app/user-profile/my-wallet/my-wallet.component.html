<ngx-spinner type="ball-scale-multiple" name="sync"><p style="font-size: 20px; color: white">Loading & syncing wallet...</p></ngx-spinner>
<ngx-spinner type="ball-scale-multiple" name="withdraw"><p style="font-size: 20px; color: white">Withdrawing funds...</p></ngx-spinner>
<div id="wallet" class="wallet">
    <div id="QRCode" class="objectInCenter" >
        <img src="https://chart.googleapis.com/chart?chs=250x250&cht=qr&chl={{this.myWallet.primaryAddress}}" alt="QRCode">
    </div>
    <div class="objectInCenter" >
        <p class="text">CryptoMart Balance: {{this.myWallet.balance}} ~= CAD {{this.cadEquivalentBalance.toFixed(2)}}</p>
        <p class="text">Balance available to spend now: {{this.myWallet.unlockedBalance}} ~= CAD {{this.cadEquivalentUnlockedBalance.toFixed(2)}}</p>
        <p class="text" id="address">{{this.myWallet.primaryAddress}}</p>
        <p class="text">PRIVATE View Key: {{this.myWallet.privateViewKey}}</p>
        <button (click)="refreshWallet()">Refresh</button>
        <button (click)="withdraw()">Withdraw</button>
    </div>
</div>

<h2 class="text">Deposits</h2>
<div id="transaction" class="objectInCenter">
    <ul class="list-group">
        <div id="MarketItemsContainer">
            <ng-container *ngFor="let item of this.deposits; let i = index">
                <div *ngIf="item.isIncoming" class="list-group-item" id="ItemContainer">
                    <p class="text" >TX ID: {{item.hash}}</p>
                    <p class="text">Fee: {{item.fee/1000000000000}} XMR</p>
                    <p class="text">Number of confirmations: {{item.numConfirmations}}</p>
                    <p class="text">Amount: {{item.incomingTransfers[0].state['amount']/1000000000000}} XMR ~= $CAD {{(item.incomingTransfers[0].state['amount']/1000000000000 * this.xmrToCad).toFixed(2)}}</p>
                </div>
                <hr>
            </ng-container>
        </div>
    </ul> 
</div>

<h2 class="text">Purchases</h2>
<div id="transaction" class="objectInCenter">
    <ul class="list-group">
        <div id="MarketItemsContainer">
            <ng-container *ngFor="let item of this.purchases; let i = index">
                <div class="list-group-item" id="ItemContainer">
                    <p class="text" >TX ID: {{item.hash}}</p>
                    <p class="text">Fee: {{item.fee/1000000000000}} XMR</p>
                    <p class="text">Number of confirmations: {{item.numConfirmations}}</p>
                    <p class="text">Amount: {{item.outgoingTransfer.state['amount']/1000000000000}} XMR ~= $CAD {{(item.outgoingTransfer.state['amount']/1000000000000 * this.xmrToCad).toFixed(2)}}</p>
                </div>
                
                <hr>
            </ng-container>
        </div>
    </ul>
</div>

<h2 class="text">Sold Listings</h2>
<div id="transaction" class="objectInCenter">
    <ul class="list-group">
        <div id="MarketItemsContainer">
            <ng-container *ngFor="let item of this.soldListings; let i = index">
                <div class="list-group-item" id="ItemContainer">
                    <p class="text" >TX ID: {{item.hash}}</p>
                    <p class="text">Fee: {{item.fee/1000000000000}} XMR</p>
                    <p class="text">Number of confirmations: {{item.numConfirmations}}</p>
                    <p class="text">Amount: {{item.incomingTransfers[0].state['amount']/1000000000000}} XMR ~= $CAD {{(item.incomingTransfers[0].state['amount']/1000000000000 * this.xmrToCad).toFixed(2)}}</p>
                </div>
                
                <hr>
            </ng-container>
        </div>
    </ul> 
</div>

<h2 class="text">Withdrawals</h2>
<div id="transaction" class="objectInCenter">
    <ul class="list-group">
        <div id="MarketItemsContainer">
            <ng-container *ngFor="let item of this.withdrawals; let i = index">
                <div *ngIf="item.isOutgoing" class="list-group-item" id="ItemContainer">
                    <p class="text" >TX ID: {{item.hash}}</p>
                    <p class="text">Fee: {{item.fee/1000000000000}} XMR</p>
                    <p class="text">Number of confirmations: {{item.numConfirmations}}</p>
                    <p class="text">Amount: {{item.outgoingTransfer.state['amount']/1000000000000}} XMR ~= $CAD {{(item.outgoingTransfer.state['amount']/1000000000000 * this.xmrToCad).toFixed(2)}}</p>
                </div>
                
                <hr>
            </ng-container>
        </div>
    </ul> 
</div>
